# 汇编语言

# 1.基础知识

## 一般概念

计算机程序设计语言可分为机器语言，高级语言和汇编语言三类

### 机器语言

优点：机器语言最直接的表示了计算机内部的基本操作，用它编制的程序在计算机中运行的效率最高，运行速度最快，程序长度最短

缺点：用二进制数表示的内容既不便于记忆又难于阅读

### 高级语言

特点：程序设计简单，但程序效率较机器语言低

### 汇编语言

#### 定义：虽然高级语言翻遍了人对计算机的应用，但运行效率低。一条汇编语言的语句与一条机器语言指令相对应，汇编语言程序与机器语言程序效率相同。

### 学习目的

1.从根本上认识，理解计算机的工作过程

2.在计算机系统中，某些功能必须用汇编语言程序来实现

3.汇编语言程序效率高于高级语言程序

## 进位计数制及其相互转换

定义：使用一定个数的数码的组合来表示数字，这种表示方法称为进位计数制。根据所使用的数码的个数，就产生了不同的进位计数制。

**1.将各个位置上所表示的基本数值称为位权，简称权**

**2.每个数位上能使用不同数码的个数称为基数**

## 带符号数的表示

### 一、原码

​	二进制数最高位表示符号，0为正，1为负，数值部分用二进制数绝对值表示

### 二、补码

​	带符号数X的补码表示[X]补定义为

​		[X]补=M+X，其中模数M根据机器数的位数而定，如位数为8则M=2^8

原码变为补码：正数原码与补码相同

负数的真值变换为补码：将各位变反（0变1，1变0）然后在最低位加1

负数的原码变换为补码：符号位不变，其余位变反，最低位加一

## 基本逻辑运算

1.“与”运算(AND)

​	“与”运算也叫逻辑乘，常用^或·表示，“与”运算是指：仅当逻辑变量A与B都是1时，运算结果F才为1，其他情况都为0

![image-20220119152136810](C:\Users\kevin\AppData\Roaming\Typora\typora-user-images\image-20220119152136810.png)

2.“或”运算（OR）

​	![image-20220119152306180](C:\Users\kevin\AppData\Roaming\Typora\typora-user-images\image-20220119152306180.png)

3.“非”运算

![image-20220119152331911](C:\Users\kevin\AppData\Roaming\Typora\typora-user-images\image-20220119152331911.png)

4.“异或”运算（XOR）

![image-20220119152432830](C:\Users\kevin\AppData\Roaming\Typora\typora-user-images\image-20220119152432830.png)

# 2.IBM-PC微机的功能结构

## 2.1 IBM-PC微机基本结构

### 一、微机一般构成

五大部件：运算器，控制器，存储器，输入设备和输出设备

p.s 

1.将运算器和控制器两大部件集成在一个集成电路芯片上，称为中央处理器，简称CPU，也叫微处理器

2.系统采用总线结构，具有较大灵活性和扩展性

![image-20220119152946980](C:\Users\kevin\AppData\Roaming\Typora\typora-user-images\image-20220119152946980.png) 

#### 中央处理器CPU

​	分析从主存储器取来的各条指令的功能，控制计算机各部件完成指定功能的各项操作

#### 主存储器

​	主存储器用来存放程序和数据，由若干个存储单元构成

​	存储单元的多少表示存储器的容量，每个存储单元用一个唯一的编号来标识，称为存储单元的地址

​	对每个存储单元内容的存和取是按照地址进行访问的

### 二、Intel  8086/8088 CPU的功能结构

​	汇编语言程序本质上就是由一系列指令构成的

CPU执行指令序列就是重复执行以下步骤：

​	1.从存储器中取指令

​	2.执行指令规定的操作

**p.s：其中两个步骤的执行又分为串行方式和指令流水线方式**

![image-20220121102959225](C:\Users\kevin\AppData\Roaming\Typora\typora-user-images\image-20220121102959225.png)

![image-20220121103326012](C:\Users\kevin\AppData\Roaming\Typora\typora-user-images\image-20220121103326012.png)

## 2.2 Intel 8086/8088CPU寄存器结构及其用途

### 结构：

![image-20220121103533641](C:\Users\kevin\AppData\Roaming\Typora\typora-user-images\image-20220121103533641.png)

### 一、通用寄存器

#### 	1.数据寄存器

​		它包括AX,BX,CX,DX四个寄存器，每一个既可以是16位寄存器，也可以分成两个8位寄存器

​		功能：既可用来存放参加运算的操作数，也可以存放运算的结果，在多数情况下，使用这些寄存器时必须在指令中明确指示

#### 	2.指针寄存器

​		指针寄存器有堆栈指针SP和基址指针BP，一般用来存放16位地址，在形成20位的物理地址时常被作为偏移量使用

#### 	3.变址寄存器

​	有两个16位的变址寄存器SI和DI，一般用来作地址指针

![image-20220121104126542](C:\Users\kevin\AppData\Roaming\Typora\typora-user-images\image-20220121104126542.png)

### 二、段寄存器

![image-20220121104240702](C:\Users\kevin\AppData\Roaming\Typora\typora-user-images\image-20220121104240702.png)

### 三、指令指针IP

![image-20220121104345603](C:\Users\kevin\AppData\Roaming\Typora\typora-user-images\image-20220121104345603.png)

### 四、标志寄存器

​	标志寄存器用来反映CPU在程序运行时的某些状态，如是否有进位、奇偶性、结果的符号，结果是否为0等等

标志位分为  

#### 状态标志

------

##### 1.进位标志位CF

算术运算时，若最高位产生进位或借位时CF被自动置“1”，否则置“0”

移位类指令中，CF也被用来存放从最高位（左移时）或最低位（右移时）移出的数值（0或1）

##### 2.奇偶标志位PF

当指令操作结果的低8位中含有1的个数为偶数时，则PF被置1，否则PF置0

##### 3.辅助进位标志位AF

算术运算时，若低字节的低四位向高4位产生进位或借位，即第3位产生进位或错位时，AF位被置1，否则置0。AF标志位用于十进制运算的调整

##### 4.零值标志位ZF

若运算结果各位全为0，则ZF被置1，否则置0

##### 5.符号标志位SF

将运算结果视为带符号数，当运算结果为负数时SF被置1，为正数时，则置0

##### 6.溢出标志位OF

当运算结果超过机器用补码所能表示数的范围时，则OF置1，否则置0



p.s：溢出和进位是两个完全不同的概念

#### 控制标志

##### 7.单步标志位TF（Trace Flag）

单步标志也叫跟踪位，该标志为控制标志位，单步标志位供调试程序使用

##### 8.中断允许标志位IF

该标志位为控制标志位，当IF被设置为1时，CPU可以响应可屏蔽中断，否则不允许响应可屏蔽中断

##### 9.方向标志位DF

DF也是控制标志位。它被用来规定串操作指令的增减方向。

## 2.3 存储器组织结构

#### 一、存储器组成

![image-20220123192359866](C:\Users\kevin\AppData\Roaming\Typora\typora-user-images\image-20220123192359866.png)